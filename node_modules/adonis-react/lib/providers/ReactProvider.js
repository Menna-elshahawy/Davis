"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const React_1 = require("../src/React");
const adonisContext_1 = require("../src/adonisContext");
class ReactProvider {
    constructor(app) {
        this.app = app;
    }
    register() {
        this.app.container.singleton('React', () => {
            return {
                useAdonisContext: adonisContext_1.useAdonisContext,
            };
        });
    }
    boot() {
        this.app.container.withBindings([
            'Adonis/Core/HttpContext',
            'Adonis/Core/Application',
            'Adonis/Core/Route',
        ], (HttpContext, app, Route) => {
            HttpContext.getter('react', function () {
                return React_1.prepareReact(this, app, Route);
            }, true);
        });
    }
}
exports.default = ReactProvider;
ReactProvider.needsApplication = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVhY3RQcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3Byb3ZpZGVycy9SZWFjdFByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsd0NBQTRDO0FBQzVDLHdEQUF3RDtBQUV4RCxNQUFxQixhQUFhO0lBRWhDLFlBQTZCLEdBQXdCO1FBQXhCLFFBQUcsR0FBSCxHQUFHLENBQXFCO0lBQUcsQ0FBQztJQUVsRCxRQUFRO1FBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDekMsT0FBTztnQkFDTCxnQkFBZ0IsRUFBaEIsZ0NBQWdCO2FBQ2pCLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTSxJQUFJO1FBQ1QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUM3QjtZQUNFLHlCQUF5QjtZQUN6Qix5QkFBeUI7WUFDekIsbUJBQW1CO1NBQ3BCLEVBQ0QsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQzFCLFdBQVcsQ0FBQyxNQUFNLENBQ2hCLE9BQU8sRUFDUDtnQkFDRSxPQUFPLG9CQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN4QyxDQUFDLEVBQ0QsSUFBSSxDQUNMLENBQUM7UUFDSixDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7O0FBN0JILGdDQThCQztBQTdCZSw4QkFBZ0IsR0FBRyxJQUFJLENBQUMifQ==